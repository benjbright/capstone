{"version":3,"sources":["Context.js","components/Header.js","hooks/useHover.js","components/CartItem.js","pages/Cart.js","components/Image.js","pages/Photos.js","utils/index.js","pages/Favourites.js","App.js","index.js"],"names":["Context","React","createContext","ContextProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","allPhotos","setAllPhotos","_useState3","_useState4","cartItems","setCartItems","useEffect","fetch","then","response","json","data","console","log","react_default","a","createElement","Provider","value","toggleFavourite","id","newArray","map","img","objectSpread","isFavorite","addToCart","newItem","prevItems","concat","toConsumableArray","removeFromCart","filter","item","emptyCart","Header","cartClassName","useContext","length","react_router_dom","to","className","useHover","hovered","setHovered","ref","useRef","enter","leave","instance","current","addEventListener","removeEventListener","CartItem","_useHover","_useHover2","trashIconClassName","onClick","src","url","width","alt","Cart","buttonText","setButtonText","_useContext","cartItemElements","components_CartItem","key","totalCost","toLocaleString","style","currency","setTimeout","Image","find","Photos","imageElements","index","components_Image","i","Favourites","displayFavourites","photo","App","components_Header","react_router","path","element","pages_Photos","pages_Favourites","pages_Cart","ReactDOM","document","getElementById","render","react","src_App"],"mappings":"yMAGMA,EAAUC,IAAMC,gBAEtB,SAASC,EAATC,GAAuC,IAAZC,EAAYD,EAAZC,SAAYC,EACHC,mBAAS,IADNC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC9BK,EAD8BH,EAAA,GACnBI,EADmBJ,EAAA,GAAAK,EAEHN,mBAAS,IAFNO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAE9BE,EAF8BD,EAAA,GAEnBE,EAFmBF,EAAA,GAsDrC,OAlDAG,oBAAU,WACRC,MAAK,gGAGFC,KAAK,SAACC,GAAD,OAAcA,EAASC,SAC5BF,KAAK,SAACG,GAELV,EAAaU,MAEhB,IAuCHC,QAAQC,IAAIT,GAGVU,EAAAC,EAAAC,cAAC3B,EAAQ4B,SAAT,CACEC,MAAO,CACLlB,YACAmB,gBA3CN,SAAyBC,GAGvB,IAAMC,EAAWrB,EAAUsB,IAAI,SAACC,GAC9B,OAAIA,EAAIH,KAAOA,EACNtB,OAAA0B,EAAA,EAAA1B,CAAA,GACFyB,EADL,CAEEE,YAAaF,EAAIE,aAGZF,IAKXtB,EAAaoB,IA6BTK,UAxBN,SAAmBC,GAEjBtB,EAAa,SAACuB,GAAD,SAAAC,OAAA/B,OAAAgC,EAAA,EAAAhC,CAAmB8B,GAAnB,CAA8BD,OAuBvCvB,YACA2B,eArBN,SAAwBR,GACtBX,QAAQC,IAAI,0BACZ,IAAMQ,EAAWjB,EAAU4B,OAAO,SAACC,GACjC,OAAOA,EAAKb,KAAOG,EAAIH,KAEzBf,EAAagB,IAiBTa,UAdN,WACE7B,EAAa,OAgBVX,GCvCQyC,MA3Bf,WAAkB,IAKVC,EAJgBC,qBAAWhD,GAAzBe,UAKIkC,OAAS,EACf,oCACA,oCAEN,OACExB,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAMC,GAAG,KACP1B,EAAAC,EAAAC,cAAA,uBAEFF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAMC,GAAG,eACP1B,EAAAC,EAAAC,cAAA,yBAEFF,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAMC,GAAG,SACP1B,EAAAC,EAAAC,cAAA,KAAGyB,UAAWL,QCcTM,MApCf,WAAoB,IAAA/C,EAKYC,oBAAS,GALrBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAKXgD,EALW9C,EAAA,GAKF+C,EALE/C,EAAA,GAMZgD,EAAMC,iBAAO,MAEnB,SAASC,IACPH,GAAW,GAGb,SAASI,IACPJ,GAAW,GAoBb,OAjBAtC,oBAAU,WAIR,IAAM2C,EAAWJ,EAAIK,QAOrB,OALAD,EAASE,iBAAiB,aAAcJ,GACxCE,EAASE,iBAAiB,aAAcH,GAIjC,WACLC,EAASG,oBAAoB,aAAcL,GAC3CE,EAASG,oBAAoB,aAAcJ,KAE5C,IAEI,CAACL,EAASE,ICTJQ,MAtBf,SAAA5D,GAA4B,IAARwC,EAAQxC,EAARwC,KAAQqB,EAEHZ,IAFGa,EAAAzD,OAAAC,EAAA,EAAAD,CAAAwD,EAAA,GAEnBX,EAFmBY,EAAA,GAEVV,EAFUU,EAAA,GAGlBxB,EAAmBM,qBAAWhD,GAA9B0C,eAEFyB,EAAqBb,EACvB,qBACA,qBAEJ,OACE7B,EAAAC,EAAAC,cAAA,OAAKyB,UAAU,aACb3B,EAAAC,EAAAC,cAAA,KACEyB,UAAWe,EACXC,QAAS,kBAAM1B,EAAeE,IAC9BY,IAAKA,IAEP/B,EAAAC,EAAAC,cAAA,OAAK0C,IAAKzB,EAAK0B,IAAKC,MAAM,QAAQC,IAAI,KACtC/C,EAAAC,EAAAC,cAAA,oBCqBS8C,MAtCf,WAAgB,IAAAnE,EACsBC,mBAAS,eAD/BC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACPoE,EADOlE,EAAA,GACKmE,EADLnE,EAAA,GAAAoE,EAEmB5B,qBAAWhD,GAApCe,EAFM6D,EAEN7D,UAAW8B,EAFL+B,EAEK/B,UACbgC,EAAmB9D,EAAUkB,IAAI,SAACW,GAAD,OACrCnB,EAAAC,EAAAC,cAACmD,EAAD,CAAUC,IAAKnC,EAAKb,GAAIa,KAAMA,MAG1BoC,GAAgC,KAAnBjE,EAAUkC,QAAegC,eAAe,QAAS,CAClEC,MAAO,WACPC,SAAU,QAaZ,OACE1D,EAAAC,EAAAC,cAAA,QAAMyB,UAAU,aACd3B,EAAAC,EAAAC,cAAA,uBACCkD,EACDpD,EAAAC,EAAAC,cAAA,KAAGyB,UAAU,cAAb,UAAkC4B,GACjCjE,EAAUkC,OAAS,EAClBxB,EAAAC,EAAAC,cAAA,OAAKyB,UAAU,gBACb3B,EAAAC,EAAAC,cAAA,UAAQyC,QAjBhB,WACE7C,QAAQC,IAAI,YACZmD,EAAc,eACdS,WAAW,WACT7D,QAAQC,IAAI,iBACZqB,IACA8B,EAAc,gBACb,OAUiCD,IAGhCjD,EAAAC,EAAAC,cAAA,8CCgCO0D,MA/Df,SAAAjF,GAAmC,IAAlBgD,EAAkBhD,EAAlBgD,UAAWlB,EAAO9B,EAAP8B,IAAO+B,EAEVZ,IAFUa,EAAAzD,OAAAC,EAAA,EAAAD,CAAAwD,EAAA,GAE1BX,EAF0BY,EAAA,GAEjBV,EAFiBU,EAAA,GAAAU,EAGiC5B,qBAChEhD,GADM8B,EAHyB8C,EAGzB9C,gBAAiBO,EAHQuC,EAGRvC,UAAWtB,EAHH6D,EAGG7D,UAAW2B,EAHdkC,EAGclC,eA0C/C,OACEjB,EAAAC,EAAAC,cAAA,OAAKyB,UAAS,GAAAZ,OAAKY,EAAL,oBAAkCI,IAAKA,GACnD/B,EAAAC,EAAAC,cAAA,OAAK0C,IAAKnC,EAAIoC,IAAKlB,UAAU,aAAaoB,IAAI,KAvC5CtC,EAAIE,WAEJX,EAAAC,EAAAC,cAAA,KACEyB,UAAU,yBACVgB,QAAS,kBAAMtC,EAAgBI,EAAIH,OAG9BuB,EAEP7B,EAAAC,EAAAC,cAAA,KACEyB,UAAU,yBACVgB,QAAS,kBAAMtC,EAAgBI,EAAIH,YAJlC,EAWQhB,EAAUuE,KAAK,SAAC1C,GAAD,OAAUA,EAAKb,KAAOG,EAAIH,KAIpDN,EAAAC,EAAAC,cAAA,KACEyB,UAAU,6BACVgB,QAAS,kBAAM1B,EAAeR,MAGzBoB,EAEP7B,EAAAC,EAAAC,cAAA,KACEyB,UAAU,0BACVgB,QAAS,kBAAM/B,EAAUH,WAJxB,ICxBIqD,MAXf,WAAkB,IAIVC,EAHgBxC,qBAAWhD,GAAzBW,UAGwBsB,IAAI,SAACC,EAAKuD,GACxC,OAAOhE,EAAAC,EAAAC,cAAC+D,EAAD,CAAOX,IAAK7C,EAAIH,GAAIG,IAAKA,EAAKkB,WCVhBuC,EDUoCF,ECTvDE,EAAI,IAAM,EACL,MACEA,EAAI,IAAM,EACZ,YADF,KAHF,IAAkBA,IDavB,OAAOlE,EAAAC,EAAAC,cAAA,QAAMyB,UAAU,UAAUoC,IEYpBI,EArBI,WAAM,IACfjF,EAAcqC,qBAAWhD,GAAzBW,UACRY,QAAQC,IAAIb,GAEZ,IAAMkF,EAAoBlF,EACvBgC,OAAO,SAACmD,GAAD,OAAWA,EAAM1D,aACxBH,IAAI,SAAC6D,GAAD,OAAWrE,EAAAC,EAAAC,cAAC+D,EAAD,CAAOX,IAAKe,EAAM/D,GAAIG,IAAK4D,MAI7C,OAFAvE,QAAQC,IAAIqE,GAGVpE,EAAAC,EAAAC,cAAA,QAAMyB,UAAU,mBACd3B,EAAAC,EAAAC,cAAA,8BAC8B,IAA7BkE,EAAkB5C,QACjBxB,EAAAC,EAAAC,cAAA,mDAEFF,EAAAC,EAAAC,cAAA,OAAKyB,UAAU,qBAAqByC,KCC3BE,MAbf,WACE,OACEtE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqE,EAAD,MACAvE,EAAAC,EAAAC,cAACsE,EAAA,EAAD,KACExE,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAOC,KAAK,IAAIC,QAAS1E,EAAAC,EAAAC,cAACyE,EAAD,QACzB3E,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAOC,KAAK,cAAcC,QAAS1E,EAAAC,EAAAC,cAAC0E,EAAD,QACnC5E,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAOC,KAAK,QAAQC,QAAS1E,EAAAC,EAAAC,cAAC2E,EAAD,WCRxBC,aAAoBC,SAASC,eAAe,SACpDC,OACHC,EAAA,cAACxG,EAAD,KACEwG,EAAA,cAACzD,EAAA,EAAD,KACEyD,EAAA,cAACC,EAAD","file":"static/js/main.547ec6fb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst Context = React.createContext();\r\n\r\nfunction ContextProvider({ children }) {\r\n  const [allPhotos, setAllPhotos] = useState([]);\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        // console.log(data);\r\n        setAllPhotos(data);\r\n      });\r\n  }, []);\r\n\r\n  function toggleFavourite(id) {\r\n    // console.log(\"Clicked!\");\r\n    // console.log(id);\r\n    const newArray = allPhotos.map((img) => {\r\n      if (img.id === id) {\r\n        return {\r\n          ...img,\r\n          isFavorite: !img.isFavorite,\r\n        };\r\n      } else {\r\n        return img;\r\n      }\r\n    });\r\n\r\n    // console.log(newArray);\r\n    setAllPhotos(newArray);\r\n  }\r\n\r\n  // console.log(allPhotos);\r\n\r\n  function addToCart(newItem) {\r\n    // console.log(\"Clicked!\");\r\n    setCartItems((prevItems) => [...prevItems, newItem]);\r\n  }\r\n\r\n  function removeFromCart(img) {\r\n    console.log(\"Removed from the cart!\");\r\n    const newArray = cartItems.filter((item) => {\r\n      return item.id !== img.id;\r\n    });\r\n    setCartItems(newArray);\r\n  }\r\n\r\n  function emptyCart() {\r\n    setCartItems([]);\r\n  }\r\n\r\n  console.log(cartItems);\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        allPhotos,\r\n        toggleFavourite,\r\n        addToCart,\r\n        cartItems,\r\n        removeFromCart,\r\n        emptyCart,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport { ContextProvider, Context };\r\n","import React, { useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"../Context\"\r\n\r\nfunction Header() {\r\n  const { cartItems } = useContext(Context)\r\n\r\n  // console.log(cartItems);\r\n\r\n  const cartClassName =\r\n    cartItems.length > 0\r\n      ? \"ri-shopping-cart-fill ri-fw ri-2x\"\r\n      : \"ri-shopping-cart-line ri-fw ri-2x\"\r\n\r\n  return (\r\n    <header>\r\n      <Link to=\"/\">\r\n        <h2>Pic Some</h2>\r\n      </Link>\r\n      <nav>\r\n        <Link to=\"/favourites\">\r\n          <h2>Favourites</h2>\r\n        </Link>\r\n        <Link to=\"/cart\">\r\n          <i className={cartClassName}></i>\r\n        </Link>\r\n      </nav>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\nfunction useHover() {\r\n  // Main block of functional component - can define a Ref here\r\n  // Side effects associated with the Ref must be defined\r\n  // in the component 'commit' phase - includes event listeners\r\n\r\n  const [hovered, setHovered] = useState(false);\r\n  const ref = useRef(null);\r\n\r\n  function enter() {\r\n    setHovered(true);\r\n  }\r\n\r\n  function leave() {\r\n    setHovered(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    // ref.current is mutable - by the time the cleanup function\r\n    // runs it may have been set to null\r\n    // Capture any mutable values inside the effect\r\n    const instance = ref.current;\r\n\r\n    instance.addEventListener(\"mouseenter\", enter);\r\n    instance.addEventListener(\"mouseleave\", leave);\r\n\r\n    // Needs a 'clean up' function when the component unmounts\r\n    // Note use of the 'instance' variable as explained above\r\n    return () => {\r\n      instance.removeEventListener(\"mouseenter\", enter);\r\n      instance.removeEventListener(\"mouseleave\", leave);\r\n    };\r\n  }, []);\r\n\r\n  return [hovered, ref];\r\n}\r\n\r\nexport default useHover;\r\n","import React, { useContext } from \"react\";\r\nimport { Context } from \"../Context\";\r\nimport useHover from \"../hooks/useHover\";\r\n\r\nfunction CartItem({ item }) {\r\n  // const [hovered, setHovered] = useState(false);\r\n  const [hovered, ref] = useHover();\r\n  const { removeFromCart } = useContext(Context);\r\n\r\n  const trashIconClassName = hovered\r\n    ? \"ri-delete-bin-fill\"\r\n    : \"ri-delete-bin-line\";\r\n\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <i\r\n        className={trashIconClassName}\r\n        onClick={() => removeFromCart(item)}\r\n        ref={ref}\r\n      ></i>\r\n      <img src={item.url} width=\"130px\" alt=\"\" />\r\n      <p>$5.99</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartItem;\r\n\r\n// onMouseEnter={() => setHovered(true)}\r\n// onMouseLeave={() => setHovered(false)}\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Context } from \"../Context\";\r\nimport CartItem from \"../components/CartItem\";\r\n\r\nfunction Cart() {\r\n  const [buttonText, setButtonText] = useState(\"Place Order\");\r\n  const { cartItems, emptyCart } = useContext(Context);\r\n  const cartItemElements = cartItems.map((item) => (\r\n    <CartItem key={item.id} item={item} />\r\n  ));\r\n\r\n  const totalCost = (cartItems.length * 5.99).toLocaleString(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\",\r\n  });\r\n\r\n  function placeOrder() {\r\n    console.log(\"Clicked!\");\r\n    setButtonText(\"Ordering...\");\r\n    setTimeout(() => {\r\n      console.log(\"Order placed!\");\r\n      emptyCart();\r\n      setButtonText(\"Place Order\");\r\n    }, 3000);\r\n  }\r\n\r\n  return (\r\n    <main className=\"cart-page\">\r\n      <h1>Check out</h1>\r\n      {cartItemElements}\r\n      <p className=\"total-cost\">Total: {totalCost}</p>\r\n      {cartItems.length > 0 ? (\r\n        <div className=\"order-button\">\r\n          <button onClick={placeOrder}>{buttonText}</button>\r\n        </div>\r\n      ) : (\r\n        <p>You have no items in your cart.</p>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import React, { useContext } from \"react\";\r\nimport { Context } from \"../Context\";\r\nimport PropTypes from \"prop-types\";\r\nimport useHover from \"../hooks/useHover\";\r\n\r\nfunction Image({ className, img }) {\r\n  // const [hovered, setHovered] = useState(false);\r\n  const [hovered, ref] = useHover();\r\n  const { toggleFavourite, addToCart, cartItems, removeFromCart } = useContext(\r\n    Context\r\n  );\r\n\r\n  function heartIcon() {\r\n    if (img.isFavorite) {\r\n      return (\r\n        <i\r\n          className=\"ri-heart-fill favorite\"\r\n          onClick={() => toggleFavourite(img.id)}\r\n        ></i>\r\n      );\r\n    } else if (hovered) {\r\n      return (\r\n        <i\r\n          className=\"ri-heart-line favorite\"\r\n          onClick={() => toggleFavourite(img.id)}\r\n        ></i>\r\n      );\r\n    }\r\n  }\r\n\r\n  function cartIcon() {\r\n    const inCart = cartItems.find((item) => item.id === img.id);\r\n\r\n    if (inCart) {\r\n      return (\r\n        <i\r\n          className=\"ri-shopping-cart-fill cart\"\r\n          onClick={() => removeFromCart(img)}\r\n        ></i>\r\n      );\r\n    } else if (hovered) {\r\n      return (\r\n        <i\r\n          className=\"ri-add-circle-line cart\"\r\n          onClick={() => addToCart(img)}\r\n        ></i>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`${className} image-container`} ref={ref}>\r\n      <img src={img.url} className=\"image-grid\" alt=\"\" />\r\n      {heartIcon()}\r\n      {cartIcon()}\r\n    </div>\r\n  );\r\n}\r\n\r\nImage.propTypes = {\r\n  className: PropTypes.string,\r\n  img: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    url: PropTypes.string.isRequired,\r\n    isFavorite: PropTypes.bool,\r\n  }),\r\n};\r\n\r\nexport default Image;\r\n\r\n// onMouseEnter={() => setHovered(true)}\r\n// onMouseLeave={() => setHovered(false)}\r\n","import React, { useContext } from \"react\";\r\nimport Image from \"../components/Image\";\r\nimport { getClass } from \"../utils\";\r\nimport { Context } from \"../Context\";\r\n\r\nfunction Photos() {\r\n  const { allPhotos } = useContext(Context);\r\n  // console.log(allPhotos);\r\n\r\n  const imageElements = allPhotos.map((img, index) => {\r\n    return <Image key={img.id} img={img} className={getClass(index)} />;\r\n  });\r\n\r\n  return <main className=\"photos\">{imageElements}</main>;\r\n}\r\n\r\nexport default Photos;\r\n","export function getClass(i) {\r\n  if (i % 5 === 0) {\r\n    return \"big\";\r\n  } else if (i % 6 === 0) {\r\n    return \"wide\";\r\n  }\r\n}\r\n","import React, { useContext } from \"react\"\r\nimport { Context } from \"../Context\"\r\nimport Image from \"../components/Image\"\r\n\r\nconst Favourites = () => {\r\n  const { allPhotos } = useContext(Context)\r\n  console.log(allPhotos)\r\n\r\n  const displayFavourites = allPhotos\r\n    .filter((photo) => photo.isFavorite)\r\n    .map((photo) => <Image key={photo.id} img={photo} />)\r\n\r\n  console.log(displayFavourites)\r\n\r\n  return (\r\n    <main className=\"favourites-page\">\r\n      <h1>Favourite Images</h1>\r\n      {displayFavourites.length === 0 && (\r\n        <p>Please select your favourite pictures!</p>\r\n      )}\r\n      <div className=\"favourites-photos\">{displayFavourites}</div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Favourites\r\n","import React from \"react\"\nimport { Routes, Route } from \"react-router-dom\"\nimport \"./styles.css\"\nimport Header from \"./components/Header\"\nimport Cart from \"./pages/Cart\"\nimport Photos from \"./pages/Photos\"\nimport Favourites from \"./pages/Favourites\"\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Routes>\n        <Route path=\"/\" element={<Photos />} />\n        <Route path=\"/favourites\" element={<Favourites />} />\n        <Route path=\"/cart\" element={<Cart />} />\n      </Routes>\n    </div>\n  )\n}\n\nexport default App\n","import * as React from \"react\"\nimport * as ReactDOM from \"react-dom/client\"\nimport { BrowserRouter } from \"react-router-dom\"\nimport \"./styles.css\"\nimport App from \"./App\"\nimport { ContextProvider } from \"./Context\"\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"))\nroot.render(\n  <ContextProvider>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </ContextProvider>\n)\n"],"sourceRoot":""}