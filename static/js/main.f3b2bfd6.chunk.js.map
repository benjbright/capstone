{"version":3,"sources":["Context.js","components/Header.js","hooks/useHover.js","components/CartItem.js","pages/Cart.js","components/Image.js","pages/Photos.js","utils/index.js","pages/Favourites.js","App.js","index.js"],"names":["Context","React","createContext","ContextProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","allPhotos","setAllPhotos","_useState3","_useState4","cartItems","setCartItems","useEffect","fetch","then","response","json","data","react_default","a","createElement","Provider","value","toggleFavourite","id","newArray","map","img","objectSpread","isFavorite","addToCart","newItem","prevItems","concat","toConsumableArray","removeFromCart","filter","item","emptyCart","Header","cartClassName","useContext","length","react_router_dom","to","className","useHover","hovered","setHovered","ref","useRef","enter","leave","instance","current","addEventListener","removeEventListener","CartItem","_useHover","_useHover2","trashIconClassName","onClick","src","url","width","alt","Cart","buttonText","setButtonText","_useContext","cartItemElements","components_CartItem","key","totalCost","toLocaleString","style","currency","console","log","setTimeout","Image","find","Photos","imageElements","index","components_Image","i","Favourites","displayFavourites","photo","image","App","components_Header","react_router","path","element","pages_Photos","pages_Favourites","pages_Cart","ReactDOM","document","getElementById","render","react","src_App"],"mappings":"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","file":"static/js/main.f3b2bfd6.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { useState, useEffect } from \"react\"\r\n\r\nconst Context = React.createContext()\r\n\r\nfunction ContextProvider({ children }) {\r\n  const [allPhotos, setAllPhotos] = useState([])\r\n  const [cartItems, setCartItems] = useState([])\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        // console.log(data);\r\n        setAllPhotos(data)\r\n      })\r\n  }, [])\r\n\r\n  function toggleFavourite(id) {\r\n    const newArray = allPhotos.map((img) => {\r\n      if (img.id === id) {\r\n        return {\r\n          ...img,\r\n          isFavorite: !img.isFavorite,\r\n        }\r\n      } else {\r\n        return img\r\n      }\r\n    })\r\n\r\n    setAllPhotos(newArray)\r\n  }\r\n\r\n  function addToCart(newItem) {\r\n    setCartItems((prevItems) => [...prevItems, newItem])\r\n  }\r\n\r\n  function removeFromCart(img) {\r\n    const newArray = cartItems.filter((item) => {\r\n      return item.id !== img.id\r\n    })\r\n    setCartItems(newArray)\r\n  }\r\n\r\n  function emptyCart() {\r\n    setCartItems([])\r\n  }\r\n\r\n  // console.log(cartItems)\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        allPhotos,\r\n        toggleFavourite,\r\n        addToCart,\r\n        cartItems,\r\n        removeFromCart,\r\n        emptyCart,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport { ContextProvider, Context }\r\n","import React, { useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"../Context\"\r\n\r\nfunction Header() {\r\n  const { cartItems } = useContext(Context)\r\n\r\n  // console.log(cartItems);\r\n\r\n  const cartClassName =\r\n    cartItems.length > 0\r\n      ? \"ri-shopping-cart-fill ri-fw ri-2x\"\r\n      : \"ri-shopping-cart-line ri-fw ri-2x\"\r\n\r\n  return (\r\n    <header>\r\n      <Link to=\"/\">\r\n        <h2>Pic Some</h2>\r\n      </Link>\r\n      <nav>\r\n        <Link to=\"/favourites\">\r\n          <h2>Favourites</h2>\r\n        </Link>\r\n        <Link to=\"/cart\">\r\n          <i className={cartClassName}></i>\r\n        </Link>\r\n      </nav>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\nfunction useHover() {\r\n  // Main block of functional component - can define a Ref here\r\n  // Side effects associated with the Ref must be defined\r\n  // in the component 'commit' phase - includes event listeners\r\n\r\n  const [hovered, setHovered] = useState(false);\r\n  const ref = useRef(null);\r\n\r\n  function enter() {\r\n    setHovered(true);\r\n  }\r\n\r\n  function leave() {\r\n    setHovered(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    // ref.current is mutable - by the time the cleanup function\r\n    // runs it may have been set to null\r\n    // Capture any mutable values inside the effect\r\n    const instance = ref.current;\r\n\r\n    instance.addEventListener(\"mouseenter\", enter);\r\n    instance.addEventListener(\"mouseleave\", leave);\r\n\r\n    // Needs a 'clean up' function when the component unmounts\r\n    // Note use of the 'instance' variable as explained above\r\n    return () => {\r\n      instance.removeEventListener(\"mouseenter\", enter);\r\n      instance.removeEventListener(\"mouseleave\", leave);\r\n    };\r\n  }, []);\r\n\r\n  return [hovered, ref];\r\n}\r\n\r\nexport default useHover;\r\n","import React, { useContext } from \"react\";\r\nimport { Context } from \"../Context\";\r\nimport useHover from \"../hooks/useHover\";\r\n\r\nfunction CartItem({ item }) {\r\n  // const [hovered, setHovered] = useState(false);\r\n  const [hovered, ref] = useHover();\r\n  const { removeFromCart } = useContext(Context);\r\n\r\n  const trashIconClassName = hovered\r\n    ? \"ri-delete-bin-fill\"\r\n    : \"ri-delete-bin-line\";\r\n\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <i\r\n        className={trashIconClassName}\r\n        onClick={() => removeFromCart(item)}\r\n        ref={ref}\r\n      ></i>\r\n      <img src={item.url} width=\"130px\" alt=\"\" />\r\n      <p>$5.99</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartItem;\r\n\r\n// onMouseEnter={() => setHovered(true)}\r\n// onMouseLeave={() => setHovered(false)}\r\n","import React, { useContext, useState } from \"react\"\r\nimport { Context } from \"../Context\"\r\nimport CartItem from \"../components/CartItem\"\r\n\r\nfunction Cart() {\r\n  const [buttonText, setButtonText] = useState(\"Place Order\")\r\n  const { cartItems, emptyCart } = useContext(Context)\r\n  const cartItemElements = cartItems.map((item) => (\r\n    <CartItem key={item.id} item={item} />\r\n  ))\r\n\r\n  const totalCost = (cartItems.length * 5.99).toLocaleString(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\",\r\n  })\r\n\r\n  function placeOrder() {\r\n    console.log(\"Clicked!\")\r\n    setButtonText(\"Ordering...\")\r\n    setTimeout(() => {\r\n      console.log(\"Order placed!\")\r\n      emptyCart()\r\n      setButtonText(\"Place Order\")\r\n    }, 3000)\r\n  }\r\n\r\n  return (\r\n    <main className=\"cart-page\">\r\n      <h1>Check out</h1>\r\n      {cartItemElements}\r\n\r\n      {cartItems.length > 0 && <p className=\"total-cost\">Total: {totalCost}</p>}\r\n\r\n      {cartItems.length > 0 ? (\r\n        <div className=\"order-button\">\r\n          <button onClick={placeOrder}>{buttonText}</button>\r\n        </div>\r\n      ) : (\r\n        <p className=\"cart-page__no-items\">You have no items in your cart.</p>\r\n      )}\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Cart\r\n","import React, { useContext } from \"react\";\r\nimport { Context } from \"../Context\";\r\nimport PropTypes from \"prop-types\";\r\nimport useHover from \"../hooks/useHover\";\r\n\r\nfunction Image({ className, img }) {\r\n  // const [hovered, setHovered] = useState(false);\r\n  const [hovered, ref] = useHover();\r\n  const { toggleFavourite, addToCart, cartItems, removeFromCart } = useContext(\r\n    Context\r\n  );\r\n\r\n  function heartIcon() {\r\n    if (img.isFavorite) {\r\n      return (\r\n        <i\r\n          className=\"ri-heart-fill favorite\"\r\n          onClick={() => toggleFavourite(img.id)}\r\n        ></i>\r\n      );\r\n    } else if (hovered) {\r\n      return (\r\n        <i\r\n          className=\"ri-heart-line favorite\"\r\n          onClick={() => toggleFavourite(img.id)}\r\n        ></i>\r\n      );\r\n    }\r\n  }\r\n\r\n  function cartIcon() {\r\n    const inCart = cartItems.find((item) => item.id === img.id);\r\n\r\n    if (inCart) {\r\n      return (\r\n        <i\r\n          className=\"ri-shopping-cart-fill cart\"\r\n          onClick={() => removeFromCart(img)}\r\n        ></i>\r\n      );\r\n    } else if (hovered) {\r\n      return (\r\n        <i\r\n          className=\"ri-add-circle-line cart\"\r\n          onClick={() => addToCart(img)}\r\n        ></i>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`${className} image-container`} ref={ref}>\r\n      <img src={img.url} className=\"image-grid\" alt=\"\" />\r\n      {heartIcon()}\r\n      {cartIcon()}\r\n    </div>\r\n  );\r\n}\r\n\r\nImage.propTypes = {\r\n  className: PropTypes.string,\r\n  img: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    url: PropTypes.string.isRequired,\r\n    isFavorite: PropTypes.bool,\r\n  }),\r\n};\r\n\r\nexport default Image;\r\n\r\n// onMouseEnter={() => setHovered(true)}\r\n// onMouseLeave={() => setHovered(false)}\r\n","import React, { useContext } from \"react\";\r\nimport Image from \"../components/Image\";\r\nimport { getClass } from \"../utils\";\r\nimport { Context } from \"../Context\";\r\n\r\nfunction Photos() {\r\n  const { allPhotos } = useContext(Context);\r\n  // console.log(allPhotos);\r\n\r\n  const imageElements = allPhotos.map((img, index) => {\r\n    return <Image key={img.id} img={img} className={getClass(index)} />;\r\n  });\r\n\r\n  return <main className=\"photos\">{imageElements}</main>;\r\n}\r\n\r\nexport default Photos;\r\n","export function getClass(i) {\r\n  if (i % 5 === 0) {\r\n    return \"big\";\r\n  } else if (i % 6 === 0) {\r\n    return \"wide\";\r\n  }\r\n}\r\n","import React, { useContext } from \"react\"\r\nimport { Context } from \"../Context\"\r\n\r\nconst Favourites = () => {\r\n  const { allPhotos } = useContext(Context)\r\n\r\n  const displayFavourites = allPhotos.filter((photo) => photo.isFavorite)\r\n\r\n  return (\r\n    <main className=\"favourites-page\">\r\n      <h1>Favourite Images</h1>\r\n      {displayFavourites.length === 0 && (\r\n        <p>Please select your favourite pictures!</p>\r\n      )}\r\n      <div className=\"favourites-display\">\r\n        {displayFavourites.map((image) => (\r\n          <img src={image.url} alt=\"\" key={image.id} />\r\n        ))}\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Favourites\r\n","import React from \"react\"\nimport { Routes, Route } from \"react-router-dom\"\nimport \"./styles.css\"\nimport Header from \"./components/Header\"\nimport Cart from \"./pages/Cart\"\nimport Photos from \"./pages/Photos\"\nimport Favourites from \"./pages/Favourites\"\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Routes>\n        <Route path=\"/\" element={<Photos />} />\n        <Route path=\"/favourites\" element={<Favourites />} />\n        <Route path=\"/cart\" element={<Cart />} />\n      </Routes>\n    </div>\n  )\n}\n\nexport default App\n","import * as React from \"react\"\nimport * as ReactDOM from \"react-dom/client\"\nimport { BrowserRouter } from \"react-router-dom\"\nimport \"./styles.css\"\nimport App from \"./App\"\nimport { ContextProvider } from \"./Context\"\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"))\nroot.render(\n  <ContextProvider>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </ContextProvider>\n)\n"],"sourceRoot":""}